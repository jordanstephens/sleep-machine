(this["webpackJsonpsleep-machine"]=this["webpackJsonpsleep-machine"]||[]).push([[0],{138:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),o=a.n(c),i=(a(65),a(66),a(1)),s=(a(67),a(2)),l=a.n(s),u=(Math.PI,function(){}),m=function(e){return 50+e};var d=function(e){var t=e.beat;return r.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),className:"ProgressMeter"},[0,1,3,2].map((function(e,a){return r.a.createElement("rect",{key:e,className:l()({on:t===e}),x:a%2===0?0:52,y:a<2?0:52,height:48,width:48})})))},h=a(23),v=function(e){var t=e.className,a=Object(h.a)(e,["className"]);return r.a.createElement("svg",Object.assign({viewBox:"0 0 ".concat(100," ").concat(100),className:l()("Triangle",t)},a),r.a.createElement("polygon",{points:"0,".concat(100," ").concat(50,",0 ").concat(100,", ").concat(100)}))},f=function(e){var t=e.className;return r.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),className:l()("Square",t)},r.a.createElement("rect",{x:0,y:0,height:100,width:100}))},y=function(e){var t=e.playing,a=e.onClick;return r.a.createElement("button",{onClick:a,className:"PlayPauseButton"},t?r.a.createElement(f,null):r.a.createElement(v,{style:{transform:"rotate(90deg)"}}))},p=a(9),g=a(54),b=a.n(g),w=a(12),E=(a(138),a(5)),x=a(6),k=a(8),N=a.n(k);function O(e,t,a){if(null==e)throw new Error("Invalid value");var n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(i.a)(a,2),s=o[0],l=o[1];if(r>=c)throw new Error("Invalid src Range: [".concat(r,", ").concat(c,"]"));if(s>=l)throw new Error("Invalid dst Range: [".concat(s,", ").concat(l,"]"));return(e-r)*(l-s)/(c-r)+s}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=N.a.sum(e);if(0===t)return e.map((function(e){return 0}));var a=[0,t],n=[0,1];return e.map((function(e){return O(e,a,n)}))}var _=function(){function e(t,a){Object(E.a)(this,e),this.a=void 0,this.b=void 0,this.a=t,this.b=a}return Object(x.a)(e,[{key:"equals",value:function(e){return this.a===e.a&&this.b===e.b||this.a===e.b&&this.b===e.a}},{key:"includes",value:function(e){return e===this.a||e===this.b}}]),e}(),C=function(){function e(t){Object(E.a)(this,e),this.weights=void 0,this.weights=t}return Object(x.a)(e,[{key:"chart",value:function(e){var t=this;return this.vertices.map((function(a){var n=360/t.order*a*Math.PI/180;return[e*Math.sin(n),-1*e*Math.cos(n),n]}))}},{key:"order",get:function(){return this.weights.length}},{key:"normalized_weights",get:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var t=Math.max.apply(Math,Object(p.a)(e)),a=[0,0===t?1:t],n=[0,1];return e.map((function(e){return O(e,a,n)}))}(this.weights)}},{key:"vertices",get:function(){return new Array(this.order).fill(0).map((function(e,t){return t}))}},{key:"edges",get:function(){var e=this;return N.a.chain(this.vertices).map((function(t){return e.vertices.map((function(e){return t!==e&&new _(t,e)}))})).flatten().compact().uniqBy((function(e){return[e.a,e.b].sort().join(":")})).value()}}]),e}(),M=a(21),S=a(20),T=a(22),D=r.a.createContext(null),P=function(e){var t=e.id,a=e.enabled,c=e.children;return a?r.a.createElement(D.Consumer,null,(function(e){if(!e)throw new Error("Invariant violation: DraggableContext.Consumer rendered without a context");return r.a.createElement("g",{onMouseDown:function(a){var n=a.clientX,r=a.clientY;e.setOrigin({id:t,x:n,y:r})}},c)})):r.a.createElement(n.Fragment,null,c)},B=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this,e))).onMouseMove=function(e){a.handleDrag(!1,e)},a.onMouseUp=function(e){a.handleDrag(!0,e)},a.handleDrag=function(e,t){var n=a.props.onDrag;if(n){var r=a.state.origin;if(r){var c=r.id,o={x:t.clientX,y:t.clientY};n({id:c,origin:r,delta:{x:o.x-r.x,y:o.y-r.y},destination:o,committed:e}),e&&a.setState({origin:null})}}},a.state={origin:null},a}return Object(T.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.onDrag&&(document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove))}},{key:"componentWillUnmount",value:function(){this.props.onDrag&&(document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove))}},{key:"render",value:function(){var e=this,t=this.props,a=t.children;if(!t.onDrag)return a;var n=this.state.origin;return r.a.createElement(D.Provider,{value:{origin:n,setOrigin:function(t){return e.setState({origin:t})}}},a)}}]),t}(r.a.Component);function q(e,t,a,n){if(0===a)return[e+n,t];if(a===1/0)return[e,t+n];var r=n*Math.sqrt(1/(1+Math.pow(a,2)));return[e+r,t+a*r]}var z,L=function(e){var t=e.id,a=e.p1,n=e.p2,c=e.weight,o=e.selected,s=function(e,t){var a=e.map(m),n=Object(i.a)(a,2),r=n[0],c=n[1],o=t.map(m),s=Object(i.a)(o,2),l=s[0],u=s[1],d=function(e,t,a,n){var r=a-e;return 0===r?1/0:(n-t)/r}(r,c,l,u),h=Math.sign(d),v=0===d&&l>r||d===1/0&&u>c||1===h&&l>r||-1===h&&l>r?[7,-7]:[-7,7],f=Object(i.a)(v,2),y=f[0],p=f[1],g=q(r,c,d,y),b=Object(i.a)(g,2),w=b[0],E=b[1],x=q(l,u,d,p),k=Object(i.a)(x,2);return[w,E,k[0],k[1]]}(a,n),u=Object(i.a)(s,4),d=u[0],h=u[1],v=u[2],f=u[3],y=Math.min(d,v),p=Math.min(h,f),g=y+(Math.max(d,v)-y)/2,b=p+(Math.max(h,f)-p)/2,w=g-4,E=b-2;return r.a.createElement("g",null,r.a.createElement("line",{x1:d,y1:h,x2:v,y2:f,className:l()("edge",{selected:!!o}),strokeLinecap:"round",markerEnd:o?"url(#selected-arrow)":"url(#arrow)"}),c&&r.a.createElement("g",null,r.a.createElement(P,{id:t,enabled:!0},r.a.createElement("rect",{x:w,y:E,width:8,height:4,className:"weight-box"}),r.a.createElement("text",{x:g,y:b,className:"weight-label",style:{fontSize:3,cursor:"ns-resize",userSelect:"none"},dominantBaseline:"middle",textAnchor:"middle"},"".concat((100*c).toFixed(0),"%")))))},R=function(e){var t=e.point,a=e.radius,n=e.weight,c=e.className,o=e.onClick,s=void 0===o?u:o,d=Object(i.a)(t,2),h=d[0],v=d[1];return r.a.createElement("circle",{cx:m(h),cy:m(v),r:a*n,className:l()("vertex",c),onClick:s})},F=function(e){var t=e.point,a=e.offset,n=e.size,c=e.text,o=Object(i.a)(t,2),s=o[0],l=o[1];return r.a.createElement("text",{x:m(s+Math.sign(s)*a),y:m(l+Math.sign(l)*a),textAnchor:"middle",dominantBaseline:"middle",className:"label",style:{fontSize:n}},c)},A=function(e){var t=e.point,a=e.config,n=e.weight,c=e.label,o=e.className,i=e.onClick;return r.a.createElement("g",{onClick:i},r.a.createElement(F,{text:c||"",point:t,offset:a.label_offset,size:a.label_size}),r.a.createElement(R,{point:t,radius:a.point_radius,weight:1,className:"click-target"}),r.a.createElement(R,{point:t,radius:a.point_radius,weight:n,className:o}))},I={point_radius:z=5,label_offset:2*z,label_size:.8*z,graph_radius:33.33333},W=function(e){var t=e.labels,a=void 0===t?[]:t,n=e.weights,c=void 0===n?[]:n,o=e.onVertexClick,s=void 0===o?u:o,m=e.onWeightDrag,d=e.className,h=e.selected1,v=e.selected2,f=e.config,y=Object(w.a)({},f,{},I),p=new C(c),g=p.chart(y.graph_radius),b=p.normalized_weights;return r.a.createElement("div",{className:l()("WeightedGraph",d)},r.a.createElement(B,{onDrag:m},r.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100)},r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",className:"edge-arrow"},r.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})),r.a.createElement("marker",{id:"selected-arrow",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse",className:"edge-arrow selected"},r.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),r.a.createElement("g",{style:{transform:"scale(1)",transformOrigin:"50% 50%"}},p.edges.map((function(e){var t=e.a,a=e.b,n=h===t?[t,a]:h===a?[a,t]:[],o=Object(i.a)(n,2),s=o[0],l=o[1];if(null==s||null==l)return null;var u=null==h?0:c[l];return 0===u?null:r.a.createElement(L,{key:"".concat(s,":").concat(l),id:String(l),p1:g[s],p2:g[l],weight:m&&u,selected:h===s&&v===l})})),g.map((function(e,t){return r.a.createElement(A,{key:t,point:e,weight:h===t?1:b[t],label:a[t]||String(t),onClick:function(e){return s(t,e)},className:l()({selected1:h===t,selected2:v===t}),config:y})}))))))};var U=function(e){var t,a=e.current,c=void 0===a?0:a,o=e.next,s=e.weights,u=e.labels,m=e.onChange,d=(t=200,function(e,a){return e+a/(t=Math.max(t,Math.abs(a)))*(a>=0?1-e:e-0)}),h=s.map(j),v=Object(n.useState)(b()(h)),f=Object(i.a)(v,2),y=f[0],g=f[1],w=Object(n.useState)(null),E=Object(i.a)(w,2),x=E[0],k=E[1];function O(e){k(e===x?null:e)}return r.a.createElement("div",{className:"MarkovChart"},r.a.createElement(W,{labels:u,weights:s[c],className:l()("active",{fade:null!=x}),onVertexClick:function(e){x||O(e)},selected1:c,selected2:o}),null!=x&&r.a.createElement(W,{labels:u,weights:y[x],selected1:x,className:"selected",onVertexClick:O,onWeightDrag:function(e){if(x){var t=parseInt(e.id,10),a=Object(p.a)(s[x]),n=a[t],r=e.delta.y,c=d(n,-1*r)-n;try{var o=function(e,t,a){if(t>e.length-1)throw new Error("index out of bounds");if(a<-1||a>1)throw new Error("delta out of bounds");if(e.length<2)throw new Error("vector length must be greater than 1");e.forEach((function(e){if(e<0||e>1)throw new Error("vector not normalized: value out of bounds")}));var n=N.a.sum(e);if(n<.99995||n>1+5e-5)throw new Error("vector not normalized: proportions sum to ".concat(n));var r=e[t],c=r+a;if(c<0||c>1)throw new Error("delta effect out of bounds");var o=n-r;if(0===o){var i=(n-c)/(e.length-1);return e.map((function(e,a){return a===t?c:i}))}return e.map((function(e,n){return n===t?c:e+-1*a*(e/o)}))}(a,t,c);y[x]=o,g(Object(p.a)(y))}catch(i){console.error(i)}e.committed&&m(Object(p.a)(y))}}}))},V=a(59),X=function(e){var t=e.x,a=e.y,c=e.onChange,o=Object(h.a)(e,["x","y","onChange"]),s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],m=l[1],d=Object(n.useState)({x:t,y:a}),v=Object(i.a)(d,2),f=v[0],y=v[1];return r.a.createElement(V.a,Object.assign({},o,{x:u&&f.x?f.x:t,y:u&&f.y?f.y:a,onChange:function(e){y(e),c(e)},onDragStart:function(){return m(!0)},onDragEnd:function(){return m(!1)}}))},Y=function(e){var t=e.className;return r.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),className:l()("Circle",t)},r.a.createElement("circle",{cx:50,cy:50,r:50}))},H=function(e){var t=e.className;return r.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),className:l()("Sawtooth",t)},r.a.createElement("polygon",{points:"0,".concat(100," ").concat(100,",0 ").concat(100,", ").concat(100)}))},G=function(e){var t=e.name,a=e.value,n=e.options,c=e.onChange;return r.a.createElement("div",{className:"RadioButtons"},n.map((function(e){var n=e.label,o=e.title,i=e.value;return r.a.createElement("div",{className:"RadioButton",key:i},r.a.createElement("input",{type:"radio",name:t,id:i,value:i,onChange:function(){return c(i)},checked:i===a}),r.a.createElement("label",{htmlFor:i,title:o},n))})))},J="hsla(0, 0%, 0%, 0.4)",Z=[{value:"sine",title:"Sine",label:r.a.createElement(Y,{className:"waveform-icon"})},{value:"square",title:"Square",label:r.a.createElement(f,{className:"waveform-icon"})},{value:"triangle",title:"Triangle",label:r.a.createElement(v,{className:"waveform-icon"})},{value:"sawtooth",title:"Sawtooth",label:r.a.createElement(H,{className:"waveform-icon"})}],$=[{value:"4t",label:"4t"},{value:"4n",label:"4"},{value:"8t",label:"8t"},{value:"8n",label:"8"}],K=function(e){var t=e.params,a=e.onChange;return r.a.createElement("form",{className:"Controls"},r.a.createElement("fieldset",{className:"form-col waveform"},r.a.createElement("label",{className:"form-row",htmlFor:"waveform"},"Waveform"),r.a.createElement("div",{className:"form-row"},r.a.createElement(G,{name:"waveform",value:t.waveform,onChange:function(e){return a({waveform:e})},options:Z}))),r.a.createElement("fieldset",{className:"form-col envelope"},r.a.createElement("label",{className:"form-row",htmlFor:"envelope"},"Envelope"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"fader-bank"},r.a.createElement("div",{className:"fader-container"},r.a.createElement(X,{axis:"y",y:t.attack,ymin:.01,ymax:1,ystep:.01,onChange:function(e){var t=e.y;return a({attack:t})},styles:{active:{background:"grey"},track:{background:J,cursor:"move-y",height:"200px"}}}),r.a.createElement("label",{className:"fader-label"},"A")),r.a.createElement("div",{className:"fader-container"},r.a.createElement(X,{axis:"y",y:t.decay,ymin:.01,ymax:1,ystep:.01,onChange:function(e){var t=e.y;return a({decay:t})},styles:{active:{background:"grey"},track:{background:J,cursor:"move-y",height:"200px"}}}),r.a.createElement("label",{className:"fader-label"},"D")),r.a.createElement("div",{className:"fader-container"},r.a.createElement(X,{axis:"y",y:t.sustain,ymin:.01,ymax:1,ystep:.01,onChange:function(e){var t=e.y;return a({sustain:t})},styles:{active:{background:"grey"},track:{background:J,cursor:"move-y",height:"200px"}}}),r.a.createElement("label",{className:"fader-label"},"S")),r.a.createElement("div",{className:"fader-container"},r.a.createElement(X,{axis:"y",y:t.release,ymin:.01,ymax:1,ystep:.01,onChange:function(e){var t=e.y;return a({release:t})},styles:{active:{background:"grey"},track:{background:J,cursor:"move-y",height:"200px"}}}),r.a.createElement("label",{className:"fader-label"},"R"))))),r.a.createElement("fieldset",{className:"form-col pulse-width"},r.a.createElement("label",{className:"form-row",htmlFor:"width"},"Pulse Width"),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"landscape"},r.a.createElement(X,{axis:"x",x:t.width,xmin:0,xmax:1,xstep:.1,onChange:function(e){var t=e.x;return a({width:t})},styles:{active:{background:"grey"},track:{background:J,cursor:"move",width:"220px"}}})),r.a.createElement("div",{className:"portrait"},r.a.createElement(X,{axis:"y",y:t.width,ymin:0,ymax:1,ystep:.1,onChange:function(e){var t=e.y;return a({width:t})},styles:{active:{background:"grey"},track:{background:J,cursor:"move",height:"200px"}}})))),r.a.createElement("fieldset",{className:"form-col delay"},r.a.createElement("label",{className:"form-row",htmlFor:"delay_wet"},"Delay"),r.a.createElement("div",{className:"form-row"},r.a.createElement(X,{axis:"xy",x:t.delay_feedback,xmin:0,xmax:1,xstep:.01,y:t.delay_wet,ymin:0,ymax:1,ystep:.01,onChange:function(e){var t=e.x,n=e.y;return a({delay_feedback:t,delay_wet:n})},styles:{track:{background:J,borderRadius:"4px",cursor:"move",width:"220px"}}}))),r.a.createElement("fieldset",{className:"form-col delay-time"},r.a.createElement("label",{className:"form-row",htmlFor:"delay_time"},"Delay Time"),r.a.createElement("div",{className:"form-row"},r.a.createElement(G,{name:"delay_time",value:t.delay_time,onChange:function(e){return a({delay_time:e})},options:$}))),r.a.createElement("fieldset",{className:"form-col chorus"},r.a.createElement("label",{className:"form-row",htmlFor:"chorus_frequency"},"Chorus"),r.a.createElement("div",{className:"form-row"},r.a.createElement(X,{axis:"xy",x:t.chorus_frequency,xmin:0,xmax:20,xstep:.1,y:t.chorus_depth,ymin:0,ymax:1,ystep:.01,onChange:function(e){var t=e.x,n=e.y;return a({chorus_frequency:t,chorus_depth:n})},styles:{track:{background:J,borderRadius:"4px",cursor:"move",width:"220px"}}}))))},Q=a(57),ee=a(58),te=a(139),ae={tempo:90,waveform:"sine",attack:.01,decay:.5,sustain:.1,release:.5,delay_wet:.5,delay_time:"4n",delay_feedback:.33,chorus_frequency:4,chorus_delay_time:1.5,chorus_depth:.25,width:.1},ne=[0,4,7],re=[0,3,7],ce=[ne,re,re,ne,ne,re,[0,3,6]],oe=[0,2,4,5,7,9,11],ie=function(e,t){return Math.floor(Math.random()*(t-e)+e)},se=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(E.a)(this,t),(a=Object(M.a)(this,Object(S.a)(t).call(this))).generators=void 0,a.probabilities=void 0,a.pattern=void 0,a.current=void 0,a.range=void 0,a.synth=void 0,a.updateParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(w.a)({},a.params,{},e);te.Transport.bpm.value=t.tempo,a.synth.update(t)},n=Object(w.a)({},ae,{},n),a.synth=new ue(n),a.current=0,a.range=2,a.pattern=new le(a.current,a.range),a.probabilities=[],a.generators=[],a.updateParams(n),a.updateProbabilities(e),te.Transport.latencyHint="playback",te.Transport.loop=!0,te.Transport.loopStart=0,te.Transport.loopEnd="1m",te.Transport.scheduleRepeat((function(e){te.Draw.schedule((function(){var e=a.next(a.current);a.emit("select",e,a.current),a.current=e}),e)}),"1:0:0","0:2:0"),te.Transport.scheduleRepeat((function(e){te.Draw.schedule((function(){a.pattern=new le(a.current,a.range),a.emit("change",a.pattern,a.current)}),e)}),"1:0:0","0:0:0"),te.Transport.scheduleRepeat((function(e){te.Draw.schedule((function(){var e=te.Transport.position,t=parseInt(e.split(":")[1],10);a.emit("beat",t)}),e)}),"0:0:1","0:0:0"),te.Transport.scheduleRepeat((function(e){var t=ie(0,a.pattern.notes.length),n=a.pattern.notes[t];a.synth.trigger(n)}),"0:0:2","0:0:0"),a}return Object(T.a)(t,e),Object(x.a)(t,[{key:"updateProbabilities",value:function(e){this.probabilities=e,this.generators=e.map((function(e){return new Q.VoseAliasMethod(e)}))}},{key:"next",value:function(e){return this.generators[e].next()}},{key:"start",value:function(){"started"!==te.Transport.state&&te.Transport.start()}},{key:"stop",value:function(){te.Transport.stop()}},{key:"toggle",value:function(){te.Transport.toggle()}},{key:"params",get:function(){return{tempo:te.Transport.bpm.value,waveform:this.synth.voice.get("oscillator").oscillator.type,attack:this.synth.voice.get("envelope").envelope.attack,decay:this.synth.voice.get("envelope").envelope.decay,sustain:this.synth.voice.get("envelope").envelope.sustain,release:this.synth.voice.get("envelope").envelope.release,delay_wet:this.synth.delay.wet.value,delay_time:te.Time(this.synth.delay.delayTime.value).toNotation(),delay_feedback:this.synth.delay.feedback.value,chorus_frequency:this.synth.chorus.frequency.value,chorus_delay_time:this.synth.chorus.delayTime,chorus_depth:this.synth.chorus.depth,width:this.synth.width}}},{key:"state",get:function(){return te.Transport.state}}]),t}(ee.EventEmitter),le=function e(t,a){Object(E.a)(this,e),this.notes=void 0;var n=48+oe[t],r=ce[t],c=new Array(a).fill(0).map((function(e,t){return t}));this.notes=N.a.flatten(c.map((function(e){return r.map((function(t){return n+t+12*e}))}))).map((function(e){return te.Frequency(e,"midi").toNote()}))},ue=function(){function e(t){Object(E.a)(this,e),this.delay=void 0,this.chorus=void 0,this.voice=void 0,this.width=void 0,this.width=t.width,this.delay=new te.PingPongDelay(t.delay_time,t.delay_feedback),this.delay.wet.value=t.delay_wet,this.chorus=new te.Chorus(t.chorus_frequency,t.chorus_delay_time,t.chorus_depth),this.voice=new te.PolySynth(4,te.Synth,{oscillator:{type:t.waveform}}),this.voice.set({envelope:{attack:t.attack,decay:t.decay,sustain:t.sustain,release:t.release}}),this.voice.chain(this.chorus,this.delay,te.Master)}return Object(x.a)(e,[{key:"update",value:function(e){this.width=e.width,this.voice.set({oscillator:{type:e.waveform},envelope:{attack:e.attack,decay:e.decay,sustain:e.sustain,release:e.release}}),this.delay.wet.value=e.delay_wet,this.delay.delayTime.value=e.delay_time,this.delay.feedback.value=e.delay_feedback,this.chorus.frequency.value=e.chorus_frequency,this.chorus.delayTime=e.chorus_delay_time,this.chorus.depth=e.chorus_depth}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;this.voice.triggerAttackRelease(e,this.width,void 0,t)}}]),e}(),me=["C","D","E","F","G","A","B"],de=new se([[0,.09,.06,.3,.4,.15,0],[.18,0,.13,.22,.22,.25,0],[.06,.1,0,.41,.1,.33,0],[.38,.06,.04,0,.38,.14,0],[.27,.07,.05,.27,0,.34,0],[.16,.09,.09,.36,.3,0,0],[.16,.16,.16,.16,.16,.16,0]]);var he=32,ve=function(){var e=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],m=Object(n.useState)(0),d=Object(i.a)(m,2),h=d[0],v=d[1],f=Object(n.useState)(0),y=Object(i.a)(f,2),p=y[0],g=y[1],b=Object(n.useState)(void 0),w=Object(i.a)(b,2),E=w[0],x=w[1];return Object(n.useEffect)((function(){return e.on("select",(function(e,t){x(e)})).on("change",(function(e,t){x(void 0),g(t)})).on("beat",(function(e){v(e)})),function(){return e.stop()}}),[]),[h,p,E,r,l,function(e){c(!0),u(e)}]}(de),t=Object(i.a)(e,6),a=t[0],c=t[1],o=t[2],s=t[3],l=t[4],u=t[5];function m(){var e="started"===de.state;u(!e),de.toggle()}return Object(n.useEffect)((function(){function e(e){var t;if(null===(t=document.activeElement)||void 0===t||!t.classList.contains("PlayPauseButton"))return e.keyCode===he?m():void 0}return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),r.a.createElement("div",{className:"SleepMachine-container"},r.a.createElement("header",{className:"SleepMachine-header"},r.a.createElement("h1",{className:"wordmark"},"Zzz Machine"),r.a.createElement("div",{className:"transport-controls-container"},r.a.createElement("div",{className:"transport-controls"},r.a.createElement("div",{className:"ProgressMeter-container"},l?r.a.createElement(d,{beat:a}):r.a.createElement(y,{playing:l,onClick:m})),r.a.createElement("input",{type:"number",id:"tempo",name:"tempo",value:de.params.tempo,onChange:function(e){return de.updateParams({tempo:parseInt(e.target.value,10)})},style:{width:"5ch"}})))),r.a.createElement("main",{className:"App-main"},!s&&r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"start-message",onClick:m},r.a.createElement("div",{style:{marginBottom:"1rem",height:"3.5rem",width:"3.5rem"}},r.a.createElement(y,{playing:!1,onClick:function(){}})),"Play")),r.a.createElement("div",{className:"SleepMachine"},r.a.createElement("div",{className:"viz-container"},r.a.createElement("div",{className:"MarkovChart-container"},r.a.createElement(U,{labels:me,current:c,next:o,weights:de.probabilities,onChange:function(e){de.updateProbabilities(e)}}))),r.a.createElement("div",{className:"Controls-container"},r.a.createElement(K,{beat:a,params:de.params,onChange:de.updateParams})))))};var fe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){e.exports=a(140)},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.cb1915c3.chunk.js.map